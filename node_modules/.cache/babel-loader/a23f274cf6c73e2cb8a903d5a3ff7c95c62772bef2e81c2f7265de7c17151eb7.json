{"ast":null,"code":"import _slicedToArray from\"/Users/alexanderfedorov/Documents/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PopupWithForm from'./PopupWithForm';import CurrentUserContext from\"../contexts/CurrentUserContext.js\";import{useState,useContext,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var currentUser=useContext(CurrentUserContext);useEffect(function(){if(currentUser.name){setName(currentUser.name);}if(currentUser.description){setDescription(currentUser.about);}},[currentUser]);function handleChange(e){e.target.name==='name'?setName(e.target.value):setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();props.onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,saveBtnText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isDataRetrieving:props.isDataRetrieving,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__field popup__field_name\",type:\"text\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",id:\"input-name\",minLength:\"2\",maxLength:\"40\",value:name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error popup__error_input-name\",id:\"input-name-error\"}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__field popup__field_description\",type:\"text\",name:\"about\",id:\"input-description\",placeholder:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",minLength:\"2\",maxLength:\"200\",value:description,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error popup__error_input-description\",id:\"input-description-error\"})]});}export default EditProfilePopup;","map":{"version":3,"names":["PopupWithForm","CurrentUserContext","useState","useContext","useEffect","EditProfilePopup","props","name","setName","description","setDescription","currentUser","about","handleChange","e","target","value","handleSubmit","preventDefault","onUpdateUser","isOpen","onClose","isDataRetrieving"],"sources":["/Users/alexanderfedorov/Documents/mesto-react/src/components/EditProfilePopup.js"],"sourcesContent":["import PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\nimport {useState, useContext, useEffect } from 'react';\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    if (currentUser.name) {\n      setName(currentUser.name);\n    }\n    if (currentUser.description){\n      setDescription(currentUser.about);  \n    }\n  }, [currentUser]);\n\n  function handleChange(e) {    \n    e.target.name === 'name' ? setName(e.target.value) : setDescription(e.target.value);\n  }\n  \n  function handleSubmit(e) {    \n    e.preventDefault();\n    props.onUpdateUser({name, about:description});\n  } \n  \n  return (\n    <PopupWithForm \n      name=\"edit\" \n      title=\"Редактировать профиль\" \n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      saveBtnText=\"Сохранить\"\n      isDataRetrieving={props.isDataRetrieving}\n    >      \n      <input \n        className=\"popup__field popup__field_name\" \n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Имя\"\n        id=\"input-name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={name}\n        onChange={handleChange}\n        required\n      />\n      <span className=\"popup__error popup__error_input-name\" id=\"input-name-error\"></span>\n      <input \n        className=\"popup__field popup__field_description\" \n        type=\"text\" \n        name=\"about\"\n        id=\"input-description\"\n        placeholder=\"Описание\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={description}\n        onChange={handleChange}\n        required\n      />\n      <span className=\"popup__error popup__error_input-description\" id=\"input-description-error\"></span>\n  </PopupWithForm>\n  )\n}\nexport default EditProfilePopup;"],"mappings":"mIAAA,MAAOA,cAAa,KAAM,iBAAiB,CAC3C,MAAOC,mBAAkB,KAAM,mCAAmC,CAClE,OAAQC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAAC,wFAEvD,QAASC,iBAAgB,CAACC,KAAK,CAAE,CAC/B,cAAwBJ,QAAQ,CAAC,EAAE,CAAC,wCAA7BK,IAAI,eAAEC,OAAO,eACpB,eAAsCN,QAAQ,CAAC,EAAE,CAAC,yCAA3CO,WAAW,eAAEC,cAAc,eAClC,GAAMC,YAAW,CAAGR,UAAU,CAACF,kBAAkB,CAAC,CAElDG,SAAS,CAAC,UAAM,CACd,GAAIO,WAAW,CAACJ,IAAI,CAAE,CACpBC,OAAO,CAACG,WAAW,CAACJ,IAAI,CAAC,CAC3B,CACA,GAAII,WAAW,CAACF,WAAW,CAAC,CAC1BC,cAAc,CAACC,WAAW,CAACC,KAAK,CAAC,CACnC,CACF,CAAC,CAAE,CAACD,WAAW,CAAC,CAAC,CAEjB,QAASE,aAAY,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,MAAM,CAACR,IAAI,GAAK,MAAM,CAAGC,OAAO,CAACM,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAGN,cAAc,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACrF,CAEA,QAASC,aAAY,CAACH,CAAC,CAAE,CACvBA,CAAC,CAACI,cAAc,EAAE,CAClBZ,KAAK,CAACa,YAAY,CAAC,CAACZ,IAAI,CAAJA,IAAI,CAAEK,KAAK,CAACH,WAAW,CAAC,CAAC,CAC/C,CAEA,mBACE,MAAC,aAAa,EACZ,IAAI,CAAC,MAAM,CACX,KAAK,CAAC,2HAAuB,CAC7B,MAAM,CAAEH,KAAK,CAACc,MAAO,CACrB,OAAO,CAAEd,KAAK,CAACe,OAAQ,CACvB,QAAQ,CAAEJ,YAAa,CACvB,WAAW,CAAC,wDAAW,CACvB,gBAAgB,CAAEX,KAAK,CAACgB,gBAAiB,wBAEzC,cACE,SAAS,CAAC,gCAAgC,CAC1C,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,oBAAK,CACjB,EAAE,CAAC,YAAY,CACf,SAAS,CAAC,GAAG,CACb,SAAS,CAAC,IAAI,CACd,KAAK,CAAEf,IAAK,CACZ,QAAQ,CAAEM,YAAa,CACvB,QAAQ,OACR,cACF,aAAM,SAAS,CAAC,sCAAsC,CAAC,EAAE,CAAC,kBAAkB,EAAQ,cACpF,cACE,SAAS,CAAC,uCAAuC,CACjD,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,OAAO,CACZ,EAAE,CAAC,mBAAmB,CACtB,WAAW,CAAC,kDAAU,CACtB,SAAS,CAAC,GAAG,CACb,SAAS,CAAC,KAAK,CACf,KAAK,CAAEJ,WAAY,CACnB,QAAQ,CAAEI,YAAa,CACvB,QAAQ,OACR,cACF,aAAM,SAAS,CAAC,6CAA6C,CAAC,EAAE,CAAC,yBAAyB,EAAQ,GACtF,CAElB,CACA,cAAeR,iBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}