{"ast":null,"code":"import _slicedToArray from\"/Users/alexanderfedorov/Documents/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import api from'../utils/api';import Card from'./Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userAvatar=_useState6[0],setUserAvatar=_useState6[1];var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),cards=_React$useState2[0],setCards=_React$useState2[1];React.useEffect(function(){Promise.all([api.getUserInfo(),api.getCards()]).then(function(data){var _data=_slicedToArray(data,2),userData=_data[0],cards=_data[1];setUserName(userData.name);setUserDescription(userData.about);setUserAvatar(userData.avatar);setCards(cards);}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"profile__avatar-btn\",children:/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-edit-img\",children:/*#__PURE__*/_jsx(\"img\",{src:userAvatar,className:\"profile__avatar\",alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0430 \\u0444\\u043E\\u0442\\u043E\\u0440\\u0430\\u0431\\u043E\\u0442\",onClick:props.onEditAvatarClick})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__info-name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{name:\"edit\",className:\"profile__edit-button\",type:\"button\",onClick:props.onEditProfileClick}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__info-description\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{name:\"add\",type:\"button\",className:\"profile__add-button\",onClick:props.onAddPlaceClick})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:props.onCardClick},card._id);})})]});};export default Main;","map":{"version":3,"names":["React","useState","api","Card","Main","props","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","useEffect","Promise","all","getUserInfo","getCards","then","data","userData","name","about","avatar","catch","err","console","log","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","map","card","onCardClick","_id"],"sources":["/Users/alexanderfedorov/Documents/mesto-react/src/components/Main.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport api from '../utils/api';\nimport Card from './Card';\n\nfunction Main(props) {\n\n  const [userName, setUserName] = useState('');\n  const [userDescription, setUserDescription] = useState('');\n  const [userAvatar, setUserAvatar] = useState('');\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([\n        api.getUserInfo(),\n        api.getCards()\n      ])    \n      .then((data) => {\n        const [userData, cards] = data;        \n        setUserName(userData.name);\n        setUserDescription(userData.about);\n        setUserAvatar(userData.avatar);\n        setCards(cards);        \n     })\n     .catch((err) => {\n      console.log(err);\n    })\n  }, [])\n\n  return (\n    <main className=\"content\">\n    <section className=\"profile\">\n        <button className=\"profile__avatar-btn\">\n        <div className=\"profile__avatar-edit-img\">\n          <img src={userAvatar} className=\"profile__avatar\" alt=\"Аватар автора фоторабот\" onClick={props.onEditAvatarClick}/>\n        </div>\n    </button>\n    <div className=\"profile__info\">\n        <h1 className=\"profile__info-name\">{userName}</h1>\n        <button name=\"edit\" className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfileClick}></button>\n        <p className=\"profile__info-description\">{userDescription}</p>\n    </div>\n    <button name=\"add\" type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlaceClick}></button>\n    </section>\n    <section className=\"elements\">\n      {cards.map((card) => (\n        <Card           \n          card={card} \n          key={card._id}\n          onCardClick={props.onCardClick}\n        />\n      ))}\n    </section>\n    </main>\n    )\n};\n\nexport default Main;"],"mappings":"mIAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAOC,IAAG,KAAM,cAAc,CAC9B,MAAOC,KAAI,KAAM,QAAQ,CAAC,wFAE1B,QAASC,KAAI,CAACC,KAAK,CAAE,CAEnB,cAAgCJ,QAAQ,CAAC,EAAE,CAAC,wCAArCK,QAAQ,eAAEC,WAAW,eAC5B,eAA8CN,QAAQ,CAAC,EAAE,CAAC,yCAAnDO,eAAe,eAAEC,kBAAkB,eAC1C,eAAoCR,QAAQ,CAAC,EAAE,CAAC,yCAAzCS,UAAU,eAAEC,aAAa,eAChC,oBAA0BX,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC,oDAArCW,KAAK,qBAAEC,QAAQ,qBAEtBb,KAAK,CAACc,SAAS,CAAC,UAAM,CACpBC,OAAO,CAACC,GAAG,CAAC,CACRd,GAAG,CAACe,WAAW,EAAE,CACjBf,GAAG,CAACgB,QAAQ,EAAE,CACf,CAAC,CACDC,IAAI,CAAC,SAACC,IAAI,CAAK,CACd,yBAA0BA,IAAI,IAAvBC,QAAQ,UAAET,KAAK,UACtBL,WAAW,CAACc,QAAQ,CAACC,IAAI,CAAC,CAC1Bb,kBAAkB,CAACY,QAAQ,CAACE,KAAK,CAAC,CAClCZ,aAAa,CAACU,QAAQ,CAACG,MAAM,CAAC,CAC9BX,QAAQ,CAACD,KAAK,CAAC,CAClB,CAAC,CAAC,CACDa,KAAK,CAAC,SAACC,GAAG,CAAK,CACfC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,cAAM,SAAS,CAAC,SAAS,wBACzB,iBAAS,SAAS,CAAC,SAAS,wBACxB,eAAQ,SAAS,CAAC,qBAAqB,uBACvC,YAAK,SAAS,CAAC,0BAA0B,uBACvC,YAAK,GAAG,CAAEhB,UAAW,CAAC,SAAS,CAAC,iBAAiB,CAAC,GAAG,CAAC,kIAAyB,CAAC,OAAO,CAAEL,KAAK,CAACwB,iBAAkB,EAAE,EAC/G,EACD,cACT,aAAK,SAAS,CAAC,eAAe,wBAC1B,WAAI,SAAS,CAAC,oBAAoB,UAAEvB,QAAQ,EAAM,cAClD,eAAQ,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAED,KAAK,CAACyB,kBAAmB,EAAU,cAC/G,UAAG,SAAS,CAAC,2BAA2B,UAAEtB,eAAe,EAAK,GAC5D,cACN,eAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,qBAAqB,CAAC,OAAO,CAAEH,KAAK,CAAC0B,eAAgB,EAAU,GAChG,cACV,gBAAS,SAAS,CAAC,UAAU,UAC1BnB,KAAK,CAACoB,GAAG,CAAC,SAACC,IAAI,qBACd,KAAC,IAAI,EACH,IAAI,CAAEA,IAAK,CAEX,WAAW,CAAE5B,KAAK,CAAC6B,WAAY,EAD1BD,IAAI,CAACE,GAAG,CAEb,EACH,CAAC,EACM,GACH,CAEX,CAAC,CAED,cAAe/B,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}